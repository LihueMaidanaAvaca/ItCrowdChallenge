{"ast":null,"code":"import { GET_PRODUCTS, GET_NAMEPRODUCTS, SET_NAME, GET_BRANDS, FILTER_BY_BRAND, FILTER_CREATED, ORDER_BY_NAME, ORDER_BY_PRICE, GET_DETAILS } from '../actions';\nconst initialState = {\n  products: [],\n  allProducts: [],\n  brands: [],\n  detail: []\n};\nexport default function rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_PRODUCTS:\n      return { ...state,\n        products: action.payload,\n        allProducts: action.payload\n      };\n\n    case GET_BRANDS:\n      return { ...state,\n        brands: action.payload\n      };\n\n    case FILTER_BY_BRAND:\n      const allProducts = state.allProducts;\n      const brandFilter = action.payload === 'brands' ? allProducts : allProducts.filter(el => {\n        var _el$Brands;\n\n        const aux = (_el$Brands = el.Brands) === null || _el$Brands === void 0 ? void 0 : _el$Brands.map(brn => brn.name);\n        if (aux !== null && aux !== void 0 && aux.includes(action.payload)) return el;\n      });\n      return { ...state,\n        products: brandFilter\n      };\n\n    case ORDER_BY_NAME:\n      let sortedArr = action.payload === 'asd' ? state.products.sort(function (a, b) {\n        if (a.title > b.title) {\n          return 1;\n        }\n\n        if (b.title > a.title) {\n          return -1;\n        }\n\n        return 0;\n      }) : state.products.sort(function (a, b) {\n        if (a.title > b.title) {\n          return -1;\n        }\n\n        if (b.title > a.title) {\n          return 1;\n        }\n\n        return 0;\n      });\n      return { ...state,\n        products: sortedArr\n      };\n\n    case ORDER_BY_PRICE:\n      let sortedSArr = action.payload === 'asd' ? state.products.sort(function (a, b) {\n        if (a.healthScore > b.healthScore) {\n          return 1;\n        }\n\n        if (b.healthScore > a.healthScore) {\n          return -1;\n        }\n\n        return 0;\n      }) : state.products.sort(function (a, b) {\n        if (a.healthScore > b.healthScore) {\n          return -1;\n        }\n\n        if (b.healthScore > a.healthScore) {\n          return 1;\n        }\n\n        return 0;\n      });\n      console.log('ahora el tema esta aca', sortedSArr);\n      return { ...state,\n        products: sortedSArr\n      };\n\n    case GET_NAMEPRODUCTS:\n      return { ...state,\n        products: action.payload\n      };\n\n    case FILTER_CREATED:\n      const allProducts2 = state.allProducts;\n      const createdFilter = action.payload === 'created' ? allProducts2.filter(el => el.created) : allProducts2.filter(el => !el.created);\n      return { ...state,\n        products: action.payload === 'allProducts' ? state.allProducts : createdFilter\n      };\n\n    case GET_DETAILS:\n      return { ...state,\n        detail: action.payload\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:/Users/lihue/OneDrive/Escritorio/ItCrowdChallenge/client/src/reducers/index.js"],"names":["GET_PRODUCTS","GET_NAMEPRODUCTS","SET_NAME","GET_BRANDS","FILTER_BY_BRAND","FILTER_CREATED","ORDER_BY_NAME","ORDER_BY_PRICE","GET_DETAILS","initialState","products","allProducts","brands","detail","rootReducer","state","action","type","payload","brandFilter","filter","el","aux","Brands","map","brn","name","includes","sortedArr","sort","a","b","title","sortedSArr","healthScore","console","log","allProducts2","createdFilter","created"],"mappings":"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","sourcesContent":["import {GET_PRODUCTS, GET_NAMEPRODUCTS, SET_NAME, GET_BRANDS, FILTER_BY_BRAND, FILTER_CREATED, ORDER_BY_NAME, ORDER_BY_PRICE, GET_DETAILS } from '../actions';\r\n\r\n\r\nconst initialState = {\r\n   products: [],\r\n   allProducts: [],\r\n   brands: [],\r\n   detail: []\r\n   };\r\n\r\n   export default function rootReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n      case GET_PRODUCTS:\r\n         return {...state,\r\n          products: action.payload,\r\n          allProducts: action.payload\r\n             };\r\n      case GET_BRANDS:\r\n               return{\r\n                 ...state, \r\n                 brands: action.payload                                          \r\n             } \r\n      case FILTER_BY_BRAND:\r\n            const allProducts = state.allProducts\r\n            \r\n            const brandFilter = action.payload === 'brands' ? allProducts :  allProducts.filter(el => {const aux = el.Brands?.map(brn=> brn.name);\r\n              if (aux?.includes(action.payload)) return el;});\r\n            \r\n            \r\n            return {...state, products: brandFilter\r\n            } \r\n      case ORDER_BY_NAME:\r\n              let sortedArr = action.payload === 'asd' ? state.products.sort(function (a, b){\r\n                  if(a.title > b.title){\r\n                      return 1;\r\n                  }\r\n                  if(b.title > a.title){\r\n                      return -1;\r\n                  }\r\n                  return 0;\r\n                }) :\r\n                state.products.sort(function (a, b){\r\n                  if(a.title > b.title){\r\n                    return -1;\r\n                  }\r\n                  if(b.title > a.title){\r\n                    return 1;\r\n                  }\r\n                  return 0\r\n                })\r\n                return{\r\n                  ...state, products: sortedArr\r\n              }  \r\n      case ORDER_BY_PRICE:\r\n              let sortedSArr = action.payload === 'asd' ? state.products.sort(function (a, b){\r\n                  if(a.healthScore > b.healthScore){\r\n                      return 1;\r\n                  }\r\n                  if(b.healthScore > a.healthScore){\r\n                      return -1;\r\n                  }\r\n                  return 0;\r\n                }) :\r\n                state.products.sort(function (a, b){\r\n                  if(a.healthScore > b.healthScore){\r\n                    return -1;\r\n                  }\r\n                  if(b.healthScore > a.healthScore){\r\n                    return 1;\r\n                  }\r\n                  return 0\r\n                })\r\n                console.log('ahora el tema esta aca', sortedSArr)\r\n                return{\r\n                  ...state, products: sortedSArr\r\n              }\r\n      case GET_NAMEPRODUCTS:\r\n            return{\r\n                ...state,\r\n                products: action.payload\r\n            }\r\n      case FILTER_CREATED:\r\n            const allProducts2 = state.allProducts \r\n            const createdFilter = action.payload === 'created' ? allProducts2.filter(el => el.created) : allProducts2.filter(el => !el.created)   \r\n            return {\r\n                ...state, products: action.payload === 'allProducts' ? state.allProducts : createdFilter\r\n            } \r\n      case GET_DETAILS:\r\n                return{\r\n                    ...state,\r\n                    detail: action.payload\r\n                }                         \r\n    default:\r\n         return state;\r\n    }}   "]},"metadata":{},"sourceType":"module"}