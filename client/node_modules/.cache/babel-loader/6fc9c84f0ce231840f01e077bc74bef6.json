{"ast":null,"code":"import _objectSpread from\"C:/Users/lihue/OneDrive/Escritorio/ItCrowdChallenge/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{GET_PRODUCTS,GET_NAMEPRODUCTS,GET_BRANDS,FILTER_BY_BRAND,FILTER_CREATED,ORDER_BY_PRICE,GET_DETAILS}from'../actions';var initialState={products:[],allProducts:[],brands:[],detail:[]};export default function rootReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case GET_PRODUCTS:return _objectSpread(_objectSpread({},state),{},{products:action.payload,allProducts:action.payload});case GET_BRANDS:return _objectSpread(_objectSpread({},state),{},{brands:action.payload});case FILTER_BY_BRAND:var allProducts=state.allProducts;var brandFilter=action.payload==='brands'?allProducts:allProducts.filter(function(el){var _el$Brands;var aux=(_el$Brands=el.Brands)===null||_el$Brands===void 0?void 0:_el$Brands.map(function(brn){return brn.name;});if(aux!==null&&aux!==void 0&&aux.includes(action.payload))return el;});return _objectSpread(_objectSpread({},state),{},{products:brandFilter});case ORDER_BY_PRICE:var sortedSArr=action.payload==='asd'?state.products.sort(function(a,b){if(a.price>b.price){return 1;}if(b.price>a.price){return-1;}return 0;}):state.products.sort(function(a,b){if(a.price>b.price){return-1;}if(b.price>a.price){return 1;}return 0;});return _objectSpread(_objectSpread({},state),{},{products:sortedSArr});case GET_NAMEPRODUCTS:return _objectSpread(_objectSpread({},state),{},{products:action.payload});case FILTER_CREATED:var allProducts2=state.allProducts;var createdFilter=action.payload==='created'?allProducts2.filter(function(el){return el.created;}):allProducts2.filter(function(el){return!el.created;});return _objectSpread(_objectSpread({},state),{},{products:action.payload==='allProducts'?state.allProducts:createdFilter});case GET_DETAILS:return _objectSpread(_objectSpread({},state),{},{detail:action.payload});default:return state;}}","map":{"version":3,"sources":["C:/Users/lihue/OneDrive/Escritorio/ItCrowdChallenge/client/src/reducers/index.js"],"names":["GET_PRODUCTS","GET_NAMEPRODUCTS","GET_BRANDS","FILTER_BY_BRAND","FILTER_CREATED","ORDER_BY_PRICE","GET_DETAILS","initialState","products","allProducts","brands","detail","rootReducer","state","action","type","payload","brandFilter","filter","el","aux","Brands","map","brn","name","includes","sortedSArr","sort","a","b","price","allProducts2","createdFilter","created"],"mappings":"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","sourcesContent":["import {GET_PRODUCTS, GET_NAMEPRODUCTS,  GET_BRANDS, FILTER_BY_BRAND, FILTER_CREATED, ORDER_BY_PRICE, GET_DETAILS } from '../actions';\r\n\r\n\r\nconst initialState = {\r\n   products: [],\r\n   allProducts: [],\r\n   brands: [],\r\n   detail: []\r\n   };\r\n\r\n   export default function rootReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n      case GET_PRODUCTS:\r\n         return {...state,\r\n          products: action.payload,\r\n          allProducts: action.payload\r\n             };\r\n      case GET_BRANDS:\r\n               return{\r\n                 ...state, \r\n                 brands: action.payload                                          \r\n             } \r\n      case FILTER_BY_BRAND:\r\n            const allProducts = state.allProducts\r\n            \r\n            const brandFilter = action.payload === 'brands' ? allProducts :  allProducts.filter(el => {const aux = el.Brands?.map(brn=> brn.name);\r\n              if (aux?.includes(action.payload)) return el;});\r\n            \r\n            \r\n            return {...state, products: brandFilter\r\n            } \r\n      \r\n      case ORDER_BY_PRICE:\r\n              let sortedSArr = action.payload === 'asd' ? state.products.sort(function (a, b){\r\n                  if(a.price > b.price){\r\n                      return 1;\r\n                  }\r\n                  if(b.price > a.price){\r\n                      return -1;\r\n                  }\r\n                  return 0;\r\n                }) :\r\n                 state.products.sort(function (a, b){\r\n                  if(a.price > b.price){\r\n                    return -1;\r\n                  }\r\n                  if(b.price > a.price){\r\n                    return 1;\r\n                  }\r\n                  return 0\r\n                })\r\n                return{\r\n                  ...state, products: sortedSArr\r\n              }\r\n      case GET_NAMEPRODUCTS:\r\n            return{\r\n                ...state,\r\n                products: action.payload\r\n            }\r\n      case FILTER_CREATED:\r\n            const allProducts2 = state.allProducts \r\n            const createdFilter = action.payload === 'created' ? allProducts2.filter(el => el.created) : allProducts2.filter(el => !el.created)   \r\n            return {\r\n                ...state, products: action.payload === 'allProducts' ? state.allProducts : createdFilter\r\n            } \r\n      case GET_DETAILS:\r\n                return{\r\n                    ...state,\r\n                    detail: action.payload\r\n                }\r\n                                         \r\n    default:\r\n         return state;\r\n    }}   "]},"metadata":{},"sourceType":"module"}