{"ast":null,"code":"import _slicedToArray from\"C:/Users/lihue/OneDrive/Escritorio/ItCrowdChallenge/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{getProducts,filterByBrand,filterCreated,getBrands,orderByName,orderByPrice}from'../../actions';import{Link}from'react-router-dom';import Card from'../cards/Cards';import Paginate from'../paginate/Paginate';import styles from'./Home.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Home(){var dispatch=useDispatch();var products=useSelector(function(state){return state.products;});var _useState=useState(''),_useState2=_slicedToArray(_useState,2),orden=_useState2[0],setOrden=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),currentPage=_useState6[0],setCurrentPage=_useState6[1];var _useState7=useState(9),_useState8=_slicedToArray(_useState7,2),productsPerPage=_useState8[0],setProductsPerPage=_useState8[1];var indexOfLastProduct=currentPage*productsPerPage;var indexOfFirstProduct=indexOfLastProduct-productsPerPage;var currentProduct=products.slice(indexOfFirstProduct,indexOfLastProduct);var brands=useSelector(function(state){return state.brands;});var paginate=function paginate(pageNumber){setCurrentPage(pageNumber);};useEffect(function(){dispatch(getProducts());setLoading(false);},[dispatch]);function handleClick(e){e.preventDefault();dispatch(getProducts());}function handleFilterBrand(e){dispatch(filterByBrand(e.target.value));}function handleSortPrice(e){e.preventDefault();dispatch(orderByPrice(e.target.value));setCurrentPage(1);setOrden(\"Ordered \".concat(e.target.value));}useEffect(function(){dispatch(getBrands());},[]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.every,children:[/*#__PURE__*/_jsxs(\"header\",{className:\"\".concat(styles.title),children:[\" HighHigh\",/*#__PURE__*/_jsx(Link,{to:\"/new\",className:styles.newpro,children:\"+\"}),/*#__PURE__*/_jsxs(\"select\",{className:styles.options,defaultValue:\"default\",onChange:function onChange(e){return handleSortPrice(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"default\",disabled:\"disabled\",children:\"Price\"}),/*#__PURE__*/_jsx(\"option\",{value:\"asd\",children:\"low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"des\",children:\"high\"})]}),/*#__PURE__*/_jsxs(\"select\",{className:styles.options,defaultValue:\"default\",onChange:function onChange(e){return handleFilterBrand(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"default\",disabled:\"disabled\",name:\"brand\",children:\"Brands\"},'a'),brands.map(function(d,i){return/*#__PURE__*/_jsx(\"option\",{name:\"brands\",value:d.name,children:d.name},i);})]})]}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(Paginate,{productsPerPage:productsPerPage,products:products.length,paginate:paginate}),/*#__PURE__*/_jsx(\"div\",{className:styles.cards,children:!loading?currentProduct===null||currentProduct===void 0?void 0:currentProduct.map(function(product){// console.log();\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\".concat(product.id),children:/*#__PURE__*/_jsx(Card,{name:product.name,image_url:product.image_url,price:product.price,brand:product.brand,logo_url:product.Brands[0].logo_url})})},product.id);}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})})]});}","map":{"version":3,"sources":["C:/Users/lihue/OneDrive/Escritorio/ItCrowdChallenge/client/src/components/home/Home.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","getProducts","filterByBrand","filterCreated","getBrands","orderByName","orderByPrice","Link","Card","Paginate","styles","Home","dispatch","products","state","orden","setOrden","loading","setLoading","currentPage","setCurrentPage","productsPerPage","setProductsPerPage","indexOfLastProduct","indexOfFirstProduct","currentProduct","slice","brands","paginate","pageNumber","handleClick","e","preventDefault","handleFilterBrand","target","value","handleSortPrice","every","title","newpro","options","map","d","i","name","length","cards","product","id","image_url","price","brand","Brands","logo_url"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getProducts, filterByBrand, filterCreated, getBrands, orderByName, orderByPrice} from '../../actions';\r\nimport { Link } from 'react-router-dom';\r\nimport Card from '../cards/Cards';\r\nimport Paginate from '../paginate/Paginate';\r\nimport styles from './Home.module.css'\r\n\r\nexport function Home(){\r\n    const dispatch= useDispatch()\r\n    const products = useSelector((state) => state.products)\r\n    const [orden, setOrden] = useState('')\r\n    const [loading, setLoading] = useState(true)\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n    const [productsPerPage, setProductsPerPage] = useState(9)\r\n    const indexOfLastProduct = currentPage * productsPerPage\r\n    const indexOfFirstProduct = indexOfLastProduct - productsPerPage\r\n    const currentProduct = products.slice(indexOfFirstProduct, indexOfLastProduct)\r\n    const brands = useSelector((state) => state.brands)\r\n    \r\n    const paginate = (pageNumber) => {\r\n        setCurrentPage(pageNumber)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        dispatch(getProducts());\r\n        setLoading(false)\r\n    },[dispatch])\r\n\r\n    function handleClick(e){\r\n        e.preventDefault();\r\n        dispatch(getProducts());\r\n    }\r\n\r\n    function handleFilterBrand(e){\r\n        dispatch(filterByBrand(e.target.value))\r\n    }\r\n\r\n    \r\n    function handleSortPrice(e){\r\n        e.preventDefault();\r\n        dispatch(orderByPrice(e.target.value))\r\n        setCurrentPage(1);\r\n        setOrden(`Ordered ${e.target.value}`)    \r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(getBrands());\r\n    }, []);\r\n\r\n    return(\r\n        <div className={styles.every}>\r\n            \r\n            <header className={`${styles.title}`}> HighHigh \r\n            \r\n            <Link to= '/new' className={styles.newpro}>+</Link>\r\n            \r\n                \r\n                <select className={styles.options} defaultValue='default' onChange= {e => handleSortPrice(e)}>\r\n                <option value='default' disabled='disabled'>Price</option>\r\n                    <option value= 'asd'>low</option>\r\n                    <option value= 'des'>high</option>\r\n                </select>\r\n                \r\n                <select className={styles.options} defaultValue='default' onChange={(e)=>handleFilterBrand(e)}>\r\n                     <option value='default' disabled='disabled' name='brand' key={'a'} >Brands</option>\r\n                     {brands.map((d,i)=>(\r\n                         <option name='brands'key={i} value={d.name}>{d.name}</option>\r\n                         ))}\r\n                 </select>\r\n                \r\n                     </header>\r\n            <div  >\r\n                \r\n            </div>\r\n                   <Paginate\r\n                   productsPerPage= {productsPerPage}\r\n                   products={products.length}\r\n                   paginate= {paginate}\r\n                   />  \r\n               <div className={styles.cards} >\r\n \r\n                { !loading ? currentProduct?.map(product=>{\r\n                    // console.log();\r\n                    return (\r\n                        <div key={product.id}>\r\n                           <Link to={`/${product.id}`}>\r\n                           <Card name={product.name} image_url={product.image_url} price={product.price}\r\n                                 brand={product.brand} logo_url={product.Brands[0].logo_url}\r\n                           />\r\n                           </Link>\r\n                       </div> \r\n                        );\r\n                     }):<p>Loading...</p>\r\n                 }\r\n                 </div>\r\n \r\n        </div>\r\n        \r\n        )\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}"]},"metadata":{},"sourceType":"module"}