{"ast":null,"code":"import { GET_PRODUCTS, GET_NAMEPRODUCTS, GET_BRANDS, FILTER_BY_BRAND, FILTER_CREATED, ORDER_BY_PRICE, GET_DETAILS } from '../actions';\nconst initialState = {\n  products: [],\n  allProducts: [],\n  brands: [],\n  detail: []\n};\nexport default function rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_PRODUCTS:\n      return { ...state,\n        products: action.payload,\n        allProducts: action.payload\n      };\n\n    case GET_BRANDS:\n      return { ...state,\n        brands: action.payload\n      };\n\n    case FILTER_BY_BRAND:\n      const allProducts = state.allProducts;\n      const brandFilter = action.payload === 'brands' ? allProducts : allProducts.filter(el => {\n        var _el$Brands;\n\n        const aux = (_el$Brands = el.Brands) === null || _el$Brands === void 0 ? void 0 : _el$Brands.map(brn => brn.name);\n        if (aux !== null && aux !== void 0 && aux.includes(action.payload)) return el;\n      });\n      return { ...state,\n        products: brandFilter\n      };\n\n    case ORDER_BY_PRICE:\n      let sortedSArr = action.payload === 'asd' ? state.products.sort(function (a, b) {\n        if (a.price > b.price) {\n          return 1;\n        }\n\n        if (b.price > a.price) {\n          return -1;\n        }\n\n        return 0;\n      }) : state.products.sort(function (a, b) {\n        if (a.price > b.price) {\n          return -1;\n        }\n\n        if (b.price > a.price) {\n          return 1;\n        }\n\n        return 0;\n      });\n      return { ...state,\n        products: sortedSArr\n      };\n\n    case GET_NAMEPRODUCTS:\n      return { ...state,\n        products: action.payload\n      };\n\n    case FILTER_CREATED:\n      const allProducts2 = state.allProducts;\n      const createdFilter = action.payload === 'created' ? allProducts2.filter(el => el.created) : allProducts2.filter(el => !el.created);\n      return { ...state,\n        products: action.payload === 'allProducts' ? state.allProducts : createdFilter\n      };\n\n    case GET_DETAILS:\n      return { ...state,\n        detail: action.payload\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:/Users/lihue/OneDrive/Escritorio/ItCrowdChallenge/client/src/reducers/index.js"],"names":["GET_PRODUCTS","GET_NAMEPRODUCTS","GET_BRANDS","FILTER_BY_BRAND","FILTER_CREATED","ORDER_BY_PRICE","GET_DETAILS","initialState","products","allProducts","brands","detail","rootReducer","state","action","type","payload","brandFilter","filter","el","aux","Brands","map","brn","name","includes","sortedSArr","sort","a","b","price","allProducts2","createdFilter","created"],"mappings":"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","sourcesContent":["import {GET_PRODUCTS, GET_NAMEPRODUCTS,  GET_BRANDS, FILTER_BY_BRAND, FILTER_CREATED, ORDER_BY_PRICE, GET_DETAILS } from '../actions';\r\n\r\n\r\nconst initialState = {\r\n   products: [],\r\n   allProducts: [],\r\n   brands: [],\r\n   detail: []\r\n   };\r\n\r\n   export default function rootReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n      case GET_PRODUCTS:\r\n         return {...state,\r\n          products: action.payload,\r\n          allProducts: action.payload\r\n             };\r\n      case GET_BRANDS:\r\n               return{\r\n                 ...state, \r\n                 brands: action.payload                                          \r\n             } \r\n      case FILTER_BY_BRAND:\r\n            const allProducts = state.allProducts\r\n            \r\n            const brandFilter = action.payload === 'brands' ? allProducts :  allProducts.filter(el => {const aux = el.Brands?.map(brn=> brn.name);\r\n              if (aux?.includes(action.payload)) return el;});\r\n            \r\n            \r\n            return {...state, products: brandFilter\r\n            } \r\n      \r\n      case ORDER_BY_PRICE:\r\n              let sortedSArr = action.payload === 'asd' ? state.products.sort(function (a, b){\r\n                  if(a.price > b.price){\r\n                      return 1;\r\n                  }\r\n                  if(b.price > a.price){\r\n                      return -1;\r\n                  }\r\n                  return 0;\r\n                }) :\r\n                 state.products.sort(function (a, b){\r\n                  if(a.price > b.price){\r\n                    return -1;\r\n                  }\r\n                  if(b.price > a.price){\r\n                    return 1;\r\n                  }\r\n                  return 0\r\n                })\r\n                return{\r\n                  ...state, products: sortedSArr\r\n              }\r\n      case GET_NAMEPRODUCTS:\r\n            return{\r\n                ...state,\r\n                products: action.payload\r\n            }\r\n      case FILTER_CREATED:\r\n            const allProducts2 = state.allProducts \r\n            const createdFilter = action.payload === 'created' ? allProducts2.filter(el => el.created) : allProducts2.filter(el => !el.created)   \r\n            return {\r\n                ...state, products: action.payload === 'allProducts' ? state.allProducts : createdFilter\r\n            } \r\n      case GET_DETAILS:\r\n                return{\r\n                    ...state,\r\n                    detail: action.payload\r\n                }\r\n                                         \r\n    default:\r\n         return state;\r\n    }}   "]},"metadata":{},"sourceType":"module"}