{"ast":null,"code":"import _defineProperty from\"C:/Users/lihue/OneDrive/Escritorio/ItCrowdChallenge/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/lihue/OneDrive/Escritorio/ItCrowdChallenge/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/lihue/OneDrive/Escritorio/ItCrowdChallenge/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link,useHistory}from'react-router-dom';import{postNewProduct,getBrands}from'../../actions';import{useDispatch}from\"react-redux\";import styles from\"./NewProduct.module.css\";// function validate(input){\n//     let errors={};\n//     if(!input.name ){errors.name = 'Name is require'}\n//     if(!input.description){errors.description = 'Write 20 to 100 characters'}\n//     if(!input.steps){errors.steps = 'Write 20 to 100 characters'}\n//     if(!input.image_url ){errors.image = 'Use an url'}\n//     if(!input.brand ){errors.brand = 'Name is require'}\n//     return errors;\n// }\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function NewProduct(){var dispatch=useDispatch();var history=useHistory();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),errors=_useState2[0],setErrors=_useState2[1];var _useState3=useState({name:\"\",description:\"\",image_url:\"\",price:0,brand:\"\"}),_useState4=_slicedToArray(_useState3,2),input=_useState4[0],setInput=_useState4[1];function handleChange(e){setInput(_objectSpread(_objectSpread({},input),{},_defineProperty({},e.target.name,e.target.value)));// setErrors(validate({\n//     ...input,\n//     [e.target.name] : e.target.value\n// }))\n}function handleSubmit(e){e.preventDefault();if(Object.values(errors).length>0)alert(\"Please finish the form\");else{postNewProduct(input);alert(\"New Product Save\");setInput({name:\"\",description:\"\",image_url:\"\",price:0,brand:\"\"});history.push('/home');}}// function handleDelete(el){\n//     setInput({\n//         ...input,\n//         types: input.types.filter(tem=> tem !== el)\n//     })\n// }\nuseEffect(function(){dispatch(getBrands());},[]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.every,children:[/*#__PURE__*/_jsx(Link,{to:\"/home\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Home\"})}),/*#__PURE__*/_jsx(\"h1\",{className:styles.title,children:\"NewProduct\"}),/*#__PURE__*/_jsxs(\"form\",{className:styles.form,onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:styles.label,children:\"name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input.title,name:\"name\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:styles.label,children:\"description:\"}),/*#__PURE__*/_jsx(\"textarea\",{className:styles.largetext,type:\"text\",value:input.description,name:\"description\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:styles.label,children:\"Image:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",value:input.image_url,name:\"image_url\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:styles.label,children:\"price:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"30\",max:\"200\",size:3,value:input.price,name:\"price\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Brand:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input.brand,name:\"brand\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/_jsx(\"button\",{className:styles.label,type:\"submit\",children:\"Save\"})]})]});}","map":{"version":3,"sources":["C:/Users/lihue/OneDrive/Escritorio/ItCrowdChallenge/client/src/components/newproduct/NewProduct.jsx"],"names":["React","useState","useEffect","Link","useHistory","postNewProduct","getBrands","useDispatch","styles","NewProduct","dispatch","history","errors","setErrors","name","description","image_url","price","brand","input","setInput","handleChange","e","target","value","handleSubmit","preventDefault","Object","values","length","alert","push","every","title","form","label","largetext"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport {postNewProduct, getBrands} from '../../actions';\r\nimport { useDispatch } from \"react-redux\";\r\nimport styles from \"./NewProduct.module.css\"\r\n\r\n\r\n// function validate(input){\r\n//     let errors={};\r\n//     if(!input.name ){errors.name = 'Name is require'}\r\n//     if(!input.description){errors.description = 'Write 20 to 100 characters'}\r\n//     if(!input.steps){errors.steps = 'Write 20 to 100 characters'}\r\n//     if(!input.image_url ){errors.image = 'Use an url'}\r\n//     if(!input.brand ){errors.brand = 'Name is require'}\r\n//     return errors;\r\n// }\r\n\r\nexport default function NewProduct(){\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const [input, setInput] = useState({\r\n        name: \"\",\r\n        description: \"\",\r\n        image_url:\"\",\r\n        price: 0,\r\n        brand: \"\",\r\n    })\r\n    \r\n    function handleChange(e){\r\n        setInput({\r\n            ...input,\r\n            [e.target.name] : e.target.value\r\n        })\r\n        // setErrors(validate({\r\n        //     ...input,\r\n        //     [e.target.name] : e.target.value\r\n        // }))\r\n    }\r\n    \r\n    \r\n    \r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        if(Object.values(errors).length > 0) alert (\"Please finish the form\")\r\n        else{\r\n\r\n            postNewProduct(input)\r\n            alert(\"New Product Save\")\r\n            setInput({\r\n                name: \"\",\r\n                description: \"\",\r\n                image_url:\"\",\r\n                price: 0,\r\n                brand: \"\",\r\n            })\r\n            history.push('/home')\r\n        }\r\n    }\r\n\r\n    // function handleDelete(el){\r\n    //     setInput({\r\n    //         ...input,\r\n    //         types: input.types.filter(tem=> tem !== el)\r\n    //     })\r\n    // }\r\n\r\n    useEffect(() => {\r\n        dispatch(getBrands());\r\n    }, []);\r\n\r\n    return(\r\n        <div className={styles.every}>\r\n            <Link to= '/home' ><button>Home</button></Link>\r\n            <h1 className={styles.title}>NewProduct</h1>\r\n            <form className={styles.form} onSubmit={(e)=>handleSubmit(e)}>\r\n                <div>\r\n                    <label className={styles.label}>name:</label>\r\n                    <input type= \"text\" value= {input.title} name= \"name\"onChange={(e)=>handleChange(e)}\r\n                    />\r\n                    {/* {errors.name && (\r\n                    <p className={styles.error}>{errors.name}</p>\r\n                    )} */}\r\n                </div>\r\n                <div>\r\n                    <label className={styles.label}>description:</label>\r\n                    <textarea className={styles.largetext} type= \"text\"  value= {input.description} name= \"description\" onChange={(e)=>handleChange(e)}/>\r\n                    {/* {errors.description && (\r\n                    <p className={styles.error}>{errors.description}</p>\r\n                    )} */}\r\n                </div>\r\n                <div>\r\n                    <label className={styles.label}>Image:</label>\r\n                    <input type= \"url\" value= {input.image_url} name= \"image_url\" onChange={(e)=>handleChange(e)}/>\r\n                    {/* {errors.image_url && (\r\n                    <p className={styles.error}>{errors.image_url}</p>\r\n                    )} */}\r\n                </div>\r\n                <div>\r\n                    <label className={styles.label}>price:</label>\r\n                    <input type= \"number\" min=\"30\" max=\"200\" size={3} value= {(input.price)} name= \"price\" onChange={(e)=>handleChange(e)}/>\r\n                    {/* {errors.price && (\r\n                    <p className={styles.error}>{errors.price}</p>\r\n                    )} */}\r\n                </div>\r\n                \r\n                <div>\r\n\r\n                <label>Brand:</label>\r\n                <input type= \"text\" value= {input.brand} name= \"brand\" onChange={(e)=>handleChange(e)}\r\n                    />\r\n                    {/* {errors.brand && (\r\n                    <p className={styles.error}>{errors.brand}</p>\r\n                    )} */}\r\n                </div>\r\n                \r\n                \r\n            <button  className={styles.label}type='submit' >Save</button>\r\n            \r\n                \r\n            </form>\r\n           \r\n        </div>\r\n    )\r\n\r\n\r\n\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}